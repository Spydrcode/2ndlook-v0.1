# 2ndlook v0.1 Environment Variables

# Supabase Configuration (Required)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Base URL for server-side redirects
APP_URL=http://localhost:3000

# OpenAI Configuration (Required for AI Snapshots)
# Get your API key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-api-key-here

# OpenAI Model Selection (Optional)
# Default: gpt-4o-2024-08-06 (recommended - supports structured outputs)
# Allowed: gpt-4o-2024-08-06, gpt-4.1, gpt-4.1-mini
OPENAI_MODEL=gpt-4o-2024-08-06

# OpenAI reasoning effort (Optional)
# Allowed: low, medium, high
OPENAI_REASONING_EFFORT=low

# Toggle snapshot generation (Optional)
# Set to "false" to disable OpenAI calls in dev
OPENAI_SNAPSHOT_ENABLED=true

# MCP Server Configuration (Required for Orchestrator)
# URL where the MCP server is running
MCP_SERVER_URL=http://localhost:3001

# Optional: MCP Server authentication token
# MCP_SERVER_AUTH=your-shared-secret-token

# Snapshot Generation Mode (Optional)
# - "deterministic" (default) - Rule-based generation
# - "orchestrated" - AI-powered generation using OpenAI
# - "auto" - Automatically choose based on observed stability
#   (only uses orchestrated if OpenAI key present and fallback rate is low)
SNAPSHOT_MODE=deterministic

# Allow small datasets for dev/test (Preview/Development only)
ALLOW_SMALL_DATASETS=false

# Jobber OAuth Configuration (Required for Jobber Integration)
# Register your app at: https://developer.getjobber.com/
JOBBER_CLIENT_ID=your-jobber-client-id
JOBBER_CLIENT_SECRET=your-jobber-client-secret
JOBBER_REDIRECT_URI=${APP_URL}/api/oauth/jobber/callback
JOBBER_SCOPES=quotes:read invoices:read jobs:read clients:read payments:read
# Optional: where to send users when already connected (Manage App URL behavior)
JOBBER_MANAGE_APP_URL=${APP_URL}/dashboard/connect?connected=jobber

# Stripe Connect OAuth
STRIPE_CONNECT_CLIENT_ID=
STRIPE_CONNECT_CLIENT_SECRET=
STRIPE_CONNECT_REDIRECT_URI=${APP_URL}/api/oauth/stripe/callback

# Square OAuth
SQUARE_APP_ID=
SQUARE_APP_SECRET=
SQUARE_REDIRECT_URI=${APP_URL}/api/oauth/square/callback
SQUARE_ENV=sandbox|production

# QuickBooks (Intuit QBO)
QBO_CLIENT_ID=
QBO_CLIENT_SECRET=
QBO_REDIRECT_URI=${APP_URL}/api/oauth/quickbooks/callback
QBO_ENV=sandbox|production

# Zoho Invoice
ZOHO_CLIENT_ID=
ZOHO_CLIENT_SECRET=
ZOHO_REDIRECT_URI=${APP_URL}/api/oauth/zoho-invoice/callback
ZOHO_DC=accounts.zoho.com

# Wave OAuth
WAVE_CLIENT_ID=
WAVE_CLIENT_SECRET=
WAVE_REDIRECT_URI=${APP_URL}/api/oauth/wave/callback

# Housecall Pro OAuth
HOUSECALLPRO_CLIENT_ID=
HOUSECALLPRO_CLIENT_SECRET=
HOUSECALLPRO_REDIRECT_URI=${APP_URL}/api/oauth/housecall-pro/callback

# OAuth security
# OAUTH_STATE_SECRET: long random string (32+ bytes)
# ENCRYPTION_KEY: 32 bytes for AES-256-GCM (base64 or hex)
OAUTH_STATE_SECRET=
ENCRYPTION_KEY=

# Debug admin
DEBUG_ADMIN_TOKEN=

# Application URL (Required for OAuth Redirects)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node Environment
NODE_ENV=development
